<?xml version="1.0"?>
<!DOCTYPE chats SYSTEM "chats.dtd">

<chats>
  <version Version="&Version;"/>
  <chat Name="repeat">repeat</chat>
  <!-- Loop on all non empty Vi or up to V9 -->
  <script>
    <set Variable="V1">Content1</set>
    <set Variable="V2">Content2</set>
    <set Variable="V3"></set>
    <set Variable="Index">0</set>
    <set Variable="Done">false</set>
    <repeat>
      <while Variable="Done">false</while>
      <script>
        <set Variable="Index" Compute="true">${Index}+1</set>
        <set Variable="Res">${V${Index}}</set>
        <send>${Res}</send>
        <cond>
          <if Variable="Res"></if>
          <script>
            <!-- Vi is empty -->
            <set Variable="Done">true</set>
          </script>
        </cond>
      </script>
    </repeat>  
    <set Variable="Done">true</set>
  </script>

</chats>

