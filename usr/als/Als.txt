Als
===
V16.1

Als lists files, directory contents... It supports several powerful options
for the selection of entries, the output format of each entry, and general
formatting options.

General syntax
--------------

 Usage: als [ { <option> } ] [ { <file_or_dir_name> } ]
 or   : als -h | --help | -v | --version

List file or directory contents.

NOTE: The arguments '<file_or_dir_name>' must denote existing files or
directories. +
Wildcards are not supported for these arguments but often, the shell expands
the wildcards before providing the arguments to the program.  This is why,
for example, "als \*.xml" may work while "als \'\*.xml'" will fail. On this
respect 'als' behaves like 'ls'. +
Prefer the option '<match_name>' to specify target names with wildcards. For
example, "als -m \'*.xml' subdir" will list the files with suffix 'xml' in
the subdirectory 'subdir'.


Detailed options
----------------

Specify which entry to select
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  -a (--all)                 Show all entries including hidden ones
                               (starting with '.')
  -A (--All)                 Show all entries except "." and ".."
  -D (--directories)         Show only directories
  -L (--links)               Show only symbolic links
  -F (--files)               Show only regular files
  -O (--others)              Show only other entries (character or block device,
                               pipe, socket)
  -B (--broken_links)        Show only broken symbolic links

  -R (--recursive)           Scan directories recursively
  --depth=<positive>         Scan only to given depth (needs "-R")

  --skip_dirs                Skip directories from arguments
                               (useful when calling "als *")

  <match_name> ::= -m <criteria> | --match=<criteria>
    <criteria> ::= <templates> | @<regex>
    <templates> ::= <template> [ { ,<template> } ]
                             Keep only files that match the criteria
                              (name matches one template or the regular expression)
  <exclude_name> ::= -e <criteria> | --exclude=<criteria>
                             Exclude files that match the criteria
  <match_dir> ::= --match_dir=<criteria>
                             Scan only directories that match the criteria
  <exclude_dir> ::= --exclude_dir=<criteria>
                             Don't show directories that match the criteria
  <discard_dir> ::= --discard_dir=<criteria>
                             Discard directories that match the criteria

  --follow_links             Consider final target of symbolic links

  <date_spec> [ <date_spec> ]
    <date_spec> ::= -d <date_comp><date> | --date=<date_comp><date>
    <date_comp> ::= eq | lt | le | gt | ge
    <date>      ::= yyyy-mm-ddThh:mm:ss | yyyy-mm-dd | Thh:mm:ss
                  | <positive><duration>
    <duration>  ::= Y | M | D | h | m | s
                             Keep files that match the date specification
                              (before, after or equal to a given date or delay)
    -n <date> (--newer=<date>) is a shortcut to "-d ge<date>"

Specify how to show each entry selected
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  -l (--list)                Show rights, owner, size, modification date, symbolic link target
  -1 (--1row)                One name per line
  -c (--classify)            Append '/' to dirs, '@' to symbolic links
  -H (--human)               Show sizes in friendly format (e.g. 1K, 2G)
  -p (--path)                Show full path of entries
  <separator> ::= -S <string> | --separator=<string>
                             Insert <string> between each entry
  --date_iso                 Show date in strict ISO format (<date>T<time>)
  -b (--basename)            In Merge mode, show only the basename of each entry

Specify general formatting options
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  -s (--size)                Sort by decreasing size (see also "-r")
  -t (--time)                Sort by decreasing time (see also "-r")
  --len_alpha                Sort by increasing name length (see also "-r")
  -r (--reverse)             Sort (by name, size, time, or len) in reverse order
  -N (--no_sort)             Keep order same as in the directory structure
  -M (--merge)               Show a global list of entries (not dir names)
  --dir_name=<always|never>  Show names of directories (default=when not empty)
  -T (--total)               Also show number and total size of listed entries
  -U (--utc)                 Use UTC i.o. local time for date spec and output
  -q (--quiet)               Do not show entries

Other options
~~~~~~~~~~~~~
  -h (--help)                Show online help
  -v (--version)             Show current version of Als

Environment Variables
~~~~~~~~~~~~~~~~~~~~~
The variable 'ALS_MAX_TO_SORT' can be set to define the number of entries above
which als does not apply the default sorting policy (alphanum) or the sorting
options. Set it to 0 for always sorting (1 leads to never sort). +
The default is 5000.

Notes on compatibility between options
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.Some options are ignored when alone
Some options are meaningful only when some other option is provided.
They are accepted and silently ignored when provided alone.

Example:

Option -H is useful only when -l is provided. So "als -H" is the same as "als".

.Some options are ignored when combined with som other options
Some options are meaningless when some other option is provided.
They are accepted and silently ignored in thses cases.

Example:

Many formating options ares meaningless when option -q is provided. So
"als -qlr" is the same as "als -q".

.Some options are mutually exclusive
Providing these options together is reported as an error.

Examples:

* Sorting criterai are mutually exclusive.
* -d and -n are mutually exclusive.
* -S is not compatible with some other formatting options (-l, -1 and -c).

.Some options are combined according to a specific logic

* Matching applies to the target of the link (if '--follow_links').
* Several matching criteria are usually combined with operator 'and', except
that:
 - several kinds are combined with 'or',
 - several name matching patterns or regex are combined with 'or'.

.Merge mode leads to specific outpout
This mode shows all (and only) the matching entries, one per row. For example,
when combined with the recursive mode, it does not show the directory names
as specific entries. +
By default it shows the full relative path of each entry, except if the 
"-b" option is provided (meaningfull only when merging).

Criteria
~~~~~~~~
The criteria (provided for <match_name>, <exclude_name>, <match_dir>,
<exclude_dir> and <discard_dir>) follows the following syntax:

 * \'@<text>' considers '<text>' as a regular expression (possibly empty),
 * \'\@<text>' considers '@<text>' as a series of file templates, the first
template starting by "@",
 * \'\\@<text>' considers '\@<text>' as a series of file templates, the first 
template starting by "\@", +
...

 * other \'<text>' is considered as templates (possibly empty),
'<template>,<template>...'.

Also beware that template matching function considers the character \'\' as an
escape character, so "\x" in the template matches the character \'x' in the
file, whatever \'x', including the character \'\'.

Examples:

  "toto"    will match "@t.t."        (regex "t.t.")
  "@toto"   will match "\@toto"       (patern "@toto",     checks "@toto")
  "@toto"   will match "\\@toto"      (patern "\@toto",    checks "@toto")
  "\@toto"  will match "\\\@toto"     (patern "\\@toto",   checks "\@toto")
  "\@toto"  will match "\\\\@toto"    (patern "\\\@toto",  checks "\@toto"))
  "\\@toto" will match "\\\\\@toto"   (patern "\\\\@toto", checks "\\@toto"))
  "\toto"   will match "\\toto"       (pattern "\\toto",   checks "\toto"))
  "\toto"   will match "\\\toto"      (pattern "\\\toto",  checks "\toto"))
  "\\toto"  will match "\\\\toto"     (pattern "\\\\toto", checks "\\toto"))

Name matching
~~~~~~~~~~~~~
The general rule is that, if at least one matching criteria is provided, then
the name (wthout path) must match at least one of them. No criteria means
"all names match". +
Conversely, if at least one exclusion criteria is provided, then
the name must not match any of them. No criteria means "all names
match" as well.

The matching of directory name in recursive mode is handled a specific way. 
If the current directory name matches a 'discard_dir' criteria, then
its content *and* subdirectories are skipped, otherwise:

* If the current directory name matches a 'exclude_dir' criteria (if there are
some), or if it does not match any 'match_dir' criteria (if there are some),
then the content of the directory is skipped but its subdirectories are scanned.

* If the name matches a 'match_dir' criteria (or if there is none)
and does not match any 'exclude_dir' criteria (or if there is none), then the
content of the directory is listed and the subdirectories are scanned.

Als exit codes
--------------
Als exits with 0 if a file or dir has been shown, with 1 otherwise and with 2
on error.

