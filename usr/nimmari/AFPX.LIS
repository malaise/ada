# Syntax of the descriptor file
# -----------------------------
# <descriptor_file> ::= { <descriptor_def> }
#
# <descriptor_def> ::= DESCRIPTOR <descriptor_no>
#                        [ <list_def>  ]
#                        [ { <field_def> } ]
#                      END DESCRIPTOR
#
# <list_def>  ::= LIST
#                   <field_geo_and_color>
#                 END LIST
#
# <field_def> ::= FIELD <field_no> <field_type>
#                   <field_geo_and_color>
#                   [ <init_def> ]
#                 END FIELD
#
# <field_type> ::= PUT  |  BUTTON  |  GET
#
# <field_geo_and_color> ::= GEOMETRY <geometry>
#                           COLORS   <colors>
#
# <geometry> ::= <upper_left_row> <upper_left_col>
#                <lower_right_row> <lower_right_col>
#
# <colors> ::= <foreground_color> [ <blink> ]
#                          <background_color> [ <selected_color> ]
#
# <init_def> ::= INIT
#                  [ { <init_line> } ]
#                END INIT
#
# <init_line> ::= <init_row> <init_col> [ <init_string> ]
#
#
# Semantic of the descriptor file
# -------------------------------
# - <descriptor_no> has to be positive range 1 .. 50 and sole (no double)
# - LIST has to be defined none or once per descriptor
# - <field_no> have to be within FIELD_RANGE (1 .. 200), strictly crescent
#                    within one descriptor, no "hole", no double
# - <geometry> must define at least one row and one col
# - <geometry> must not make the field overlap with another field of the
#                    descriptor
# - <geometry> of a GET field must define only one row
# - <foreground_color> must be of COLORS for PUT fields
#                    and of BASIC_COLORS for BUTTON, GET and LIST
# - <background_color> and <selected_color> must be BASIC_COLORS
# - <blink> is mandatory for PUT fields and must not be specified
#                    for LIST, BUTTON and GET fields
# - <selected_color> is mandatory for LIST and GET fields and
#                    must not be specified for PUT and BUTTON
# - <init_row> have to be compatible with <geometry>
#                    crescent, no double (holes allowed)
# - <init_col> have to be compatible with <geometry>
# - <init_string> have to be compatible with <geometry> and <init_col>
#
# Infos
# -----
# Separator is space or tabulation
# Comments are lines with '#' as first signficant character
# Rows are from 0 to 24
# Cols are from 0 to 79
# Basic colors are BLACK, BLUE, GREEN, CYAN, RED, MAGENTA, BROWN, LIGHT_GRAY
# Colors are basic colors plus DARK_GRAY, LIGHT_BLUE, LIGHT_GREEN, ORANGE,
#                              YELLOW, WHITE
# Blink is "BLINK" or "NOT_BLINK"
# Upper case is mandatory for keywords, not significant for colors and blink,
#  significant for init_string
#
# Summary of color combinations
# -----------------------------
#  Type  |   Foreground  Blink  Background  Selected
#  -------------------------------------------------
#  PUT   |   X Colors    X      X Basic
#  BUTTON|   X Basic            X Basic
#  GET   |   X Basic            X Basic     X Basic
#  LIST  |   X Basic            X Basic     X Basic


DESCRIPTOR 1

# Title, presentation, rules

   # Title NIM / MARIENBAD, then NIM or Marienbad
   FIELD 1 PUT
     GEOMETRY 0 30 0 46
     COLORS blue not_blink black
     INIT
       0 0 NIM and MARIENBAD
     END INIT
   END FIELD

# Rules
   FIELD 2 PUT
     GEOMETRY 1 1 19 78
     COLORS cyan not_blink black
     INIT
        1 2 This game presents several sticks aligned on four rows:
        2 3  - seven sticks in the first row,
        3 3  - five in the second,
        4 3  - three in the third,
        5 3  - and one in the fourth.

        7 2 Each of us, at his turn, will remove some sticks, as many as we want,
        8 3  with only two constraints:
        9 4   - we must take at least one stick at each turn,
       10 4   - at each turn, all the sticks we take must be on the same row.

       12 2 I always play first at the beginning of a game, which gives you the
       13 3  possibility to win each game.

       16 2 Two variants are available:
       17 3 - at Nim, the winner is the one who takes the last stick,
       18 3 - at Marienbad, the player who takes the last stick loses.
     END INIT
   END FIELD

# Buttons
# Play nimm,  Play Marienbad, exit
   FIELD 3 BUTTON
     GEOMETRY 21 10 23 19
     COLORS cyan light_gray 
     INIT
       1 1 Play Nim
     END INIT
   END FIELD

   FIELD 4 BUTTON
     GEOMETRY 21 22 23 37
     COLORS cyan light_gray 
     INIT
       1 1 Play Marienbad
     END INIT
   END FIELD

   FIELD 5 BUTTON
     GEOMETRY 21 60 23 68
     COLORS cyan light_gray 
     INIT
       1 1 E X I T
     END INIT
   END FIELD

END DESCRIPTOR

DESCRIPTOR 2

   # First row
   FIELD 1 BUTTON
     GEOMETRY 2 23 4 24
     COLORS cyan light_gray 
   END FIELD

   FIELD 2 BUTTON
     GEOMETRY 2 28 4 29
     COLORS cyan light_gray 
   END FIELD

   FIELD 3 BUTTON
     GEOMETRY 2 33 4 34
     COLORS cyan light_gray 
   END FIELD

   FIELD 4 BUTTON
     GEOMETRY 2 38 4 39
     COLORS cyan light_gray 
   END FIELD

   FIELD 5 BUTTON
     GEOMETRY 2 43 4 44
     COLORS cyan light_gray 
   END FIELD

   FIELD 6 BUTTON
     GEOMETRY 2 48 4 49
     COLORS cyan light_gray 
   END FIELD

   FIELD 7 BUTTON
     GEOMETRY 2 53 4 54
     COLORS cyan light_gray 
   END FIELD

   # Second row
   FIELD 8 BUTTON
     GEOMETRY 6 28 8 29
     COLORS cyan light_gray 
   END FIELD

   FIELD 9 BUTTON
     GEOMETRY 6 33 8 34
     COLORS cyan light_gray 
   END FIELD

   FIELD 10 BUTTON
     GEOMETRY 6 38 8 39
     COLORS cyan light_gray 
   END FIELD

   FIELD 11 BUTTON
     GEOMETRY 6 43 8 44
     COLORS cyan light_gray 
   END FIELD

   FIELD 12 BUTTON
     GEOMETRY 6 48 8 49
     COLORS cyan light_gray 
   END FIELD

   # Third row
   FIELD 13 BUTTON
     GEOMETRY 10 33 12 34
     COLORS cyan light_gray 
   END FIELD

   FIELD 14 BUTTON
     GEOMETRY 10 38 12 39
     COLORS cyan light_gray 
   END FIELD

   FIELD 15 BUTTON
     GEOMETRY 10 43 12 44
     COLORS cyan light_gray 
   END FIELD

   # Third row
   FIELD 16 BUTTON
     GEOMETRY 14 38 16 39
     COLORS cyan light_gray 
   END FIELD

   # Play
   FIELD 17 BUTTON
     GEOMETRY 21 34 23 42
     COLORS blue light_gray 
     INIT
       1 1 Remove
     END INIT
   END FIELD

   FIELD 18 BUTTON
     GEOMETRY 21 60 23 68
     COLORS blue light_gray 
     INIT
       1 1 E X I T
     END INIT
   END FIELD

   # Score
   FIELD 19 PUT
     GEOMETRY 0 54 0 78
     COLORS blue not_blink black
     INIT
       0 0 You :   0 | Me :   0
     END INIT
   END FIELD

   # Title NIM or Marienbad
   FIELD 20 PUT
     GEOMETRY 0 34 0 42
     COLORS blue not_blink black
   END FIELD

   # Who wins
   FIELD 21 PUT
     GEOMETRY 19 0 19 79
     COLORS light_green blink black
   END FIELD

   # Play
   FIELD 22 BUTTON
     GEOMETRY 21 03 23 18
     COLORS blue light_gray 
   END FIELD
END DESCRIPTOR

