# Syntax of the descriptor file
# -----------------------------
# <descriptor_file> ::= { <descriptor_def> }
#
# <descriptor_def> ::= DESCRIPTOR <descriptor_no>
#                        [ <list_def>  ]
#                        [ { <field_def> } ]
#                      END DESCRIPTOR
#
# <list_def>  ::= LIST
#                   <field_geo_and_color>
#                 END LIST
#
# <field_def> ::= FIELD <field_no> <field_type>
#                   <field_geo_and_color>
#                   [ <init_def> ]
#                 END FIELD
#
# <field_type> ::= PUT  |  BUTTON  |  GET
#
# <field_geo_and_color> ::= GEOMETRY <geometry>
#                           COLORS   <colors>
#
# <geometry> ::= <upper_left_row> <upper_left_col>
#                <lower_right_row> <lower_right_col>
#
# <colors> ::= <foreground_color> [ <blink> ]
#                          <background_color> [ <selected_color> ]
#
# <init_def> ::= INIT
#                  [ { <init_line> } ]
#                END INIT
#
# <init_line> ::= <init_row> <init_col> [ <init_string> ]
#
#
# Semantic of the descriptor file
# -------------------------------
# - <descriptor_no> has to be positive range 1 .. 50 and sole (no double)
# - LIST has to be defined none or once per descriptor
# - <field_no> have to be within FIELD_RANGE (1 .. 200), strictly crescent
#                    within one descriptor, no "hole", no double
# - <geometry> must define at least one row and one col
# - <geometry> must not make the field overlap with another field of the
#                    descriptor
# - <geometry> of a GET field must define only one row
# - <foreground_color> must be of COLORS for PUT fields
#                    and of BASIC_COLORS for BUTTON, GET and LIST
# - <background_color> and <selected_color> must be BASIC_COLORS
# - <blink> is mandatory for PUT fields and must not be specified
#                    for LIST, BUTTON and GET fields
# - <selected_color> is mandatory for LIST and GET fields and
#                    must not be specified for PUT and BUTTON
# - <init_row> have to be compatible with <geometry>
#                    crescent, no double (holes allowed)
# - <init_col> have to be compatible with <geometry>
# - <init_string> have to be compatible with <geometry> and <init_col>
#
# Infos
# -----
# Separator is space or tabulation
# Comments are lines with '#' as first signficant character
# Rows are from 0 to 24
# Cols are from 0 to 79
# Basic colors are BLACK, BLUE, GREEN, CYAN, RED, MAGENTA, BROWN, LIGHT_GRAY
# Colors are basic colors plus DARK_GRAY, LIGHT_BLUE, LIGHT_GREEN, ORANGE,
#                              YELLOW, WHITE
# Blink is "BLINK" or "NOT_BLINK"
# Upper case is mandatory for keywords, not significant for colors and blink,
#  significant for init_string
#
# Summary of color combinations
# -----------------------------
#  Type  |   Foreground  Blink  Background  Selected
#  -------------------------------------------------
#  PUT   |   X Colors    X      X Basic
#  BUTTON|   X Basic            X Basic
#  GET   |   X Basic            X Basic     X Basic
#  LIST  |   X Basic            X Basic     X Basic
# Main menu
DESCRIPTOR 1
  LIST
    GEOMETRY 2 1 18 71
    COLORS cyan brown red
  END LIST

  # Account name
  FIELD 1 PUT
    GEOMETRY 0 1 0 25
    COLORS light_gray not_blink black
  END FIELD
  FIELD 2 PUT
    GEOMETRY 0 26 0 26
    COLORS light_gray not_blink black
    INIT 
      0 0 :
    END INIT
  END FIELD

  # Nb cheques
  FIELD 3 PUT
    GEOMETRY 0 28 0 31
    COLORS light_gray not_blink black
  END FIELD
  FIELD 4 PUT
    GEOMETRY 0 33 0 42
    COLORS light_gray not_blink black
    INIT
      0 0 operations
    END INIT
  END FIELD

  # Saved or NOT SAVED
  FIELD 5 PUT
    GEOMETRY 0 44 0 53
    COLORS light_gray not_blink black
    INIT
      0 0 saved
    END INIT
  END FIELD

  # Selected
  FIELD 6 PUT
    GEOMETRY 0 57 0 60
    COLORS light_gray not_blink black
  END FIELD
  FIELD 7 PUT
    GEOMETRY 0 62 0 69
    COLORS light_gray not_blink black
    INIT
      0 0 selected
    END INIT
  END FIELD

  # List title
  FIELD 8 PUT
    GEOMETRY 1 1 1 71
    COLORS light_gray not_blink black
    INIT
      #    0         1         2         3         4         5         6         7
      #    01234567890123456789012345678901234567890123456789012345678901234567890
      0 2    No|  Date  |  Amount |Stat|Kind|Destinat. |Comment        |Reference
      #    3021|25/10/01|-12345.12|    |    |1234567890|123456789012345|1234567890
      # Status: Yes No Def    Kind: Cheq Cred Xfer Draw
      
    END INIT
  END FIELD

  # Real amount
  FIELD 9 PUT
    GEOMETRY 19 1 19 5
    COLORS light_gray not_blink black
    INIT
      0 0 Real:
    END INIT
  END FIELD
  FIELD 10 PUT
    GEOMETRY 19 6 19 17
    COLORS light_gray not_blink black
  END FIELD

  # Account
  FIELD 11 PUT
    GEOMETRY 19 19 19 26
    COLORS light_gray not_blink black
    INIT
      0 0 Account:
    END INIT
  END FIELD
  FIELD 12 PUT
    GEOMETRY 19 27 19 38
    COLORS light_gray not_blink black
  END FIELD

  # Defered
  FIELD 13 PUT
    GEOMETRY 19 40 19 47
    COLORS light_gray not_blink black
    INIT
      0 0 Defered:
    END INIT
  END FIELD
  FIELD 14 PUT
    GEOMETRY 19 48 19 59
    COLORS light_gray not_blink black
  END FIELD

  # Margin
  FIELD 15 PUT
    GEOMETRY 19 61 19 67
    COLORS light_gray not_blink black
    INIT
      0 0 Margin:
    END INIT
  END FIELD
  FIELD 16 PUT
    GEOMETRY 19 68 19 79
    COLORS light_gray not_blink black
  END FIELD

  # List Action
  FIELD 17 BUTTON
    GEOMETRY 1 73 1 78
    COLORS cyan brown
    INIT
      0 1 Top
    END INIT
  END FIELD
  FIELD 18 BUTTON
    GEOMETRY 3 73 5 78
    COLORS cyan brown
    INIT
     1 1 PgUp
    END INIT
  END FIELD
  FIELD 19 BUTTON
    GEOMETRY 7 73 7 78
    COLORS cyan brown
    INIT
      0 2 Up
    END INIT
  END FIELD
  FIELD 20 BUTTON
    GEOMETRY 10 73 10 78
    COLORS cyan brown
    INIT
      0 1 Down
    END INIT
  END FIELD
  FIELD 21 BUTTON
    GEOMETRY 12 73 14 78
    COLORS cyan brown
    INIT
      1 0 PgDown
    END INIT
  END FIELD
  FIELD 22 BUTTON
    GEOMETRY 16 73 16 78
    COLORS cyan brown
    INIT
      0 0 Bottom
    END INIT
  END FIELD

  # Cheque actions
  FIELD 23 PUT
    GEOMETRY 21 1 21 5
    COLORS light_gray not_blink black
    INIT
      0 0 Oper:
    END INIT
  END FIELD
  # Add cheque
  FIELD 24 BUTTON
    GEOMETRY 21 10 21 14
    COLORS cyan brown
    INIT
      0 1 ADD
    END INIT
  END FIELD
  # Copy cheque
  FIELD 25 BUTTON
    GEOMETRY 21 17 21 22
    COLORS cyan brown
    INIT
      0 1 COPY
    END INIT
  END FIELD
  # Edit cheque
  FIELD 26 BUTTON
    GEOMETRY 21 25 21 30
    COLORS cyan brown
    INIT
      0 1 EDIT
    END INIT
  END FIELD
  # Delete cheque
  FIELD 27 BUTTON
    GEOMETRY 21 33 21 40
    COLORS cyan brown
    INIT
      0 1 DELETE
    END INIT
  END FIELD
  # Clean up to
  FIELD 28 BUTTON
    GEOMETRY 21 43 21 55
    COLORS cyan brown
    INIT
      0 1 CLEAN UP TO
    END INIT
  END FIELD
  # Search cheques
  FIELD 29 BUTTON
    GEOMETRY 21 58 21 65
    COLORS cyan brown
    INIT
      0 1 SEARCH
    END INIT
  END FIELD
  # Show all cheques
  FIELD 30 BUTTON
    GEOMETRY 21 68 21 77
    COLORS blue brown
    INIT
      0 1 SHOW ALL
    END INIT
  END FIELD

  # Account actions
  FIELD 31 PUT
    GEOMETRY 23 1 23 8
    COLORS light_gray not_blink black
    INIT
      0 0 Account:
    END INIT
  END FIELD
  # Create account
  FIELD 32 BUTTON
    GEOMETRY 23 10 23 14
    COLORS cyan brown
    INIT
      0 1 NEW
    END INIT
  END FIELD
  # Load account
  FIELD 33 BUTTON
    GEOMETRY 23 17 23 22
    COLORS cyan brown
    INIT
      0 1 LOAD
    END INIT
  END FIELD
  # Save account
  FIELD 34 BUTTON
    GEOMETRY 23 25 23 30
    COLORS cyan brown
    INIT
      0 1 SAVE
    END INIT
  END FIELD
  # Print account
  FIELD 35 BUTTON
    GEOMETRY 23 33 23 39
    COLORS cyan brown
    INIT
      0 1 PRINT
    END INIT
  END FIELD
  # Switch unit
  FIELD 36 BUTTON
    GEOMETRY 23 44 23 54
    COLORS cyan brown
    INIT
      0 1 TO FRANCS
    END INIT
  END FIELD
  # Sort account
  FIELD 37 BUTTON
    GEOMETRY 23 59 23 64
    COLORS cyan brown
    INIT
      0 1 SORT
    END INIT
  END FIELD
  # Exit account
  FIELD 38 BUTTON
    GEOMETRY 23 70 23 75
    COLORS cyan brown
    INIT
      0 1 EXIT
    END INIT
  END FIELD

  # Message
  FIELD 39 PUT
    GEOMETRY 24 1 24 55
    COLORS orange not_blink black
  END FIELD

  # Yes/No
  FIELD 40 BUTTON
    GEOMETRY 24 57 24 61
    COLORS cyan brown
    INIT
      0 1 YES
    END INIT
  END FIELD
  FIELD 41 BUTTON
    GEOMETRY 24 63 24 66
    COLORS cyan brown
    INIT
      0 1 NO
    END INIT
  END FIELD

END DESCRIPTOR



# File selection
DESCRIPTOR 2

  LIST
    GEOMETRY 2 11 21 65
    COLORS cyan brown red
  END LIST

  # Title
  FIELD 1 PUT
    GEOMETRY 0 25 0 48
    COLORS light_gray not_blink black
    INIT
      0 0 GENERIC TITLE
    END INIT
  END FIELD

  # Action title
  FIELD 2 PUT
    GEOMETRY 1 3 1 27
    COLORS cyan not_blink black
  END FIELD

  # File
  FIELD 3 PUT
    GEOMETRY 1 33 1 37
    COLORS light_gray not_blink black
    INIT
      0 0 File:
    END INIT
  END FIELD

  FIELD 4 PUT
    GEOMETRY 1 39 1 65
    COLORS cyan not_blink black
  END FIELD

  # Get
  FIELD 5 GET
    GEOMETRY 23 1 23 33
    COLORS cyan brown brown
  END FIELD

  # Messages
  FIELD 6 PUT
    GEOMETRY 23 35 23 78
    COLORS light_gray not_blink black
  END FIELD

  # List actions
  FIELD 7 BUTTON
    GEOMETRY 5 69 5 77
    COLORS cyan brown
    INIT
      0 3 Top
    END INIT
  END FIELD

  FIELD 8 BUTTON
    GEOMETRY 7 69 9 77
    COLORS cyan brown
    INIT
      1 2 Pg Up
    END INIT
  END FIELD

  FIELD 9 BUTTON
    GEOMETRY 11 69 11 77
    COLORS cyan brown
    INIT
      0 3 Up
    END INIT
  END FIELD

  FIELD 10 BUTTON
    GEOMETRY 15 69 15 77
    COLORS cyan brown
    INIT
      0 2 Down
    END INIT
  END FIELD

  FIELD 11 BUTTON
    GEOMETRY 17 69 19 77
    COLORS cyan brown
    INIT
      1 1 Pg Down
    END INIT
  END FIELD

  FIELD 12 BUTTON
    GEOMETRY 21 69 21 77
    COLORS cyan brown
    INIT
      0 1 Bottom
    END INIT
  END FIELD

  # Reread
  FIELD 13 BUTTON
    GEOMETRY 11 2 13 9
    COLORS cyan brown
    INIT
      1 1 REREAD
    END INIT
  END FIELD

  # Ok Cancel
  FIELD 14 BUTTON
    GEOMETRY 15 2 17 9
    COLORS cyan brown
    INIT
      1 3 OK
    END INIT
  END FIELD

  FIELD 15 BUTTON
    GEOMETRY 19 2 21 9
    COLORS cyan brown
    INIT
      1 1 CANCEL
    END INIT
  END FIELD

  # Any other field here

END DESCRIPTOR

# Operation edition
DESCRIPTOR 3

  # Account name and status
  FIELD 1 PUT
    GEOMETRY 0 1 0 25
    COLORS light_gray not_blink black
  END FIELD
  FIELD 2 PUT
    GEOMETRY 0 26 0 26
    COLORS light_gray not_blink black
    INIT 
      0 0 :
    END INIT
  END FIELD
  # Nb cheques
  FIELD 3 PUT
    GEOMETRY 0 28 0 31
    COLORS light_gray not_blink black
  END FIELD
  FIELD 4 PUT
    GEOMETRY 0 33 0 42
    COLORS light_gray not_blink black
    INIT
      0 0 operations
    END INIT
  END FIELD
  # Saved or NOT SAVED
  FIELD 5 PUT
    GEOMETRY 0 44 0 53
    COLORS light_gray not_blink black
    INIT
      0 0 saved
    END INIT
  END FIELD
  # Selected
  FIELD 6 PUT
    GEOMETRY 0 57 0 60
    COLORS light_gray not_blink black
  END FIELD
  FIELD 7 PUT
    GEOMETRY 0 62 0 69
    COLORS light_gray not_blink black
    INIT
      0 0 selected
    END INIT
  END FIELD


  # Title: action
  FIELD 8 PUT
    GEOMETRY 2 23 2 31
    COLORS light_gray not_blink black
    INIT
      0 0 Operation
    END INIT
  END FIELD
  # Action
  FIELD 9 PUT
    GEOMETRY 2 33 2 45
    COLORS light_green not_blink black
  END FIELD

  # No
  FIELD 10 PUT
    GEOMETRY 4 2 4 4
    COLORS light_gray not_blink black
    INIT
      0 0 No:
    END INIT
  END FIELD
  FIELD 11 PUT
    GEOMETRY 4 6 4 9
    COLORS light_gray not_blink black
  END FIELD

  # Date
  FIELD 12 PUT
    GEOMETRY 6 2 6 6
    COLORS light_gray not_blink black
    INIT
      0 0 Date:
    END INIT
  END FIELD
  FIELD 13 GET
    GEOMETRY 6 8 6 9
    COLORS cyan brown brown
  END FIELD
  FIELD 14 PUT
    GEOMETRY 6 10 6 10
    COLORS light_gray not_blink black
    INIT
      0 0 /
    END INIT
  END FIELD
  FIELD 15 GET
    GEOMETRY 6 11 6 12
    COLORS cyan brown brown
  END FIELD
  FIELD 16 PUT
    GEOMETRY 6 13 6 15
    COLORS light_gray not_blink black
    INIT
      0 0 /20
    END INIT
  END FIELD
  FIELD 17 GET
    GEOMETRY 6 16 6 17
    COLORS cyan brown brown
  END FIELD

  # Amount
  FIELD 18 PUT
    GEOMETRY 8 2 8 8
    COLORS light_gray not_blink black
    INIT
      0 0 Amount:
    END INIT
  END FIELD
  FIELD 19 BUTTON
    GEOMETRY 8 10 8 12
    COLORS cyan brown
    INIT
      0 1 e
    END INIT
  END FIELD
  FIELD 20 GET
    GEOMETRY 8 14 8 25
    COLORS cyan brown brown
  END FIELD

  # Kind
  FIELD 21 PUT
    GEOMETRY 10 2 10 7
    COLORS light_gray not_blink black
    INIT
      0 0 Kind:
    END INIT
  END FIELD
  FIELD 22 BUTTON
    GEOMETRY 10 9 10 16
    COLORS cyan brown
    INIT
      0 1 Cheque
    END INIT
  END FIELD
  FIELD 23 BUTTON
    GEOMETRY 10 19 10 31
    COLORS cyan brown
    INIT
      0 1 Credit Card
    END INIT
  END FIELD
  FIELD 24 BUTTON
    GEOMETRY 10 34 10 43
    COLORS cyan brown
    INIT
      0 1 Transfer
    END INIT
  END FIELD
  FIELD 25 BUTTON
    GEOMETRY 10 46 10 55
    COLORS cyan brown
    INIT
      0 1 Withdraw
    END INIT
  END FIELD

  # Status
  FIELD 26 PUT
    GEOMETRY 12 2 12 9
    COLORS light_gray not_blink black
    INIT
      0 0 Entered:
    END INIT
  END FIELD
  FIELD 27 BUTTON
    GEOMETRY 12 11 12 15
    COLORS cyan brown 
    INIT
      0 1 Yes
    END INIT
  END FIELD
  FIELD 28 BUTTON
    GEOMETRY 12 18 12 21
    COLORS cyan brown 
    INIT
      0 1 No
    END INIT
  END FIELD
  FIELD 29 BUTTON
    GEOMETRY 12 24 12 32
    COLORS cyan brown 
    INIT
      0 1 Defered
    END INIT
  END FIELD

  # Destination
  FIELD 30 PUT
    GEOMETRY 14 2 14 13
    COLORS light_gray not_blink black
    INIT
      0 0 Destination:
    END INIT
  END FIELD
  FIELD 31 GET
    GEOMETRY 14 15 14 34
    COLORS cyan brown brown
  END FIELD

  # Comment
  FIELD 32 PUT
    GEOMETRY 16 2 16 9
    COLORS light_gray not_blink black
    INIT
      0 0 Comment:
    END INIT
  END FIELD
  FIELD 33 GET
    GEOMETRY 16 11 16 30
    COLORS cyan brown brown
  END FIELD

  # Reference
  FIELD 34 PUT
    GEOMETRY 18 2 18 11
    COLORS light_gray not_blink black
    INIT
      0 0 Reference:
    END INIT
  END FIELD
  FIELD 35 GET
    GEOMETRY 18 13 18 22
    COLORS cyan brown brown
  END FIELD

  # Deleted info
  FIELD 36 PUT
    GEOMETRY 20 2 20 8
    COLORS magenta not_blink black
    INIT
      0 0 DELETED
    END INIT
  END FIELD


  # ok cancel and next and prev
  FIELD 37 BUTTON
    GEOMETRY 13 40 15 53
    COLORS cyan brown
    INIT
      1 5 O K
      2 3 and prev
    END INIT
  END FIELD
  FIELD 38 BUTTON
    GEOMETRY 13 57 15 69
    COLORS cyan brown
    INIT
      1 1 C A N C E L
      2 3 and prev
    END INIT
  END FIELD

  FIELD 39 BUTTON
    GEOMETRY 17 40 19 53
    COLORS cyan brown
    INIT
      1 5 O K
    END INIT
  END FIELD
  FIELD 40 BUTTON
    GEOMETRY 17 57 19 69
    COLORS cyan brown
    INIT
      1 3 Q U I T
    END INIT
  END FIELD

  FIELD 41 BUTTON
    GEOMETRY 21 40 23 53
    COLORS cyan brown
    INIT
      1 5 O K
      2 3 and next
    END INIT
  END FIELD
  FIELD 42 BUTTON
    GEOMETRY 21 57 23 69
    COLORS cyan brown
    INIT
      1 1 C A N C E L
      2 3 and next
    END INIT
  END FIELD

END DESCRIPTOR

DESCRIPTOR 4

  # Account name
  FIELD 1 PUT
    GEOMETRY 0 1 0 25
    COLORS light_gray not_blink black
  END FIELD
  FIELD 2 PUT
    GEOMETRY 0 26 0 26
    COLORS light_gray not_blink black
    INIT 
      0 0 :
    END INIT
  END FIELD

  # Nb cheques
  FIELD 3 PUT
    GEOMETRY 0 28 0 31
    COLORS light_gray not_blink black
  END FIELD
  FIELD 4 PUT
    GEOMETRY 0 33 0 42
    COLORS light_gray not_blink black
    INIT
      0 0 operations
    END INIT
  END FIELD

  # Saved or NOT SAVED
  FIELD 5 PUT
    GEOMETRY 0 44 0 53
    COLORS light_gray not_blink black
    INIT
      0 0 saved
    END INIT
  END FIELD

  # Selected
  FIELD 6 PUT
    GEOMETRY 0 57 0 60
    COLORS light_gray not_blink black
  END FIELD
  FIELD 7 PUT
    GEOMETRY 0 62 0 69
    COLORS light_gray not_blink black
    INIT
      0 0 selected
    END INIT
  END FIELD

  # Title: Search
  FIELD 8 PUT
    GEOMETRY 2 23 2 28
    COLORS light_green not_blink black
    INIT
      0 0 Search
    END INIT
  END FIELD

  # Status/reference
  FIELD 9 BUTTON
    GEOMETRY 10 2 12 10
    COLORS cyan brown
    INIT
      1 1 Defered
    END INIT
  END FIELD
  FIELD 10 BUTTON
    GEOMETRY 10 15 12 27
    COLORS cyan brown
    INIT
      1 1 Not entered
    END INIT
  END FIELD
  FIELD 11 BUTTON
    GEOMETRY 10 31 12 50
    COLORS cyan brown
    INIT
      1 1 Cheque not entered
    END INIT
  END FIELD
  FIELD 12 PUT
    GEOMETRY 15 2 15 18
    COLORS light_gray not_blink black
    INIT
      0 0 Cheque reference:
    END INIT
  END FIELD
  FIELD 13 GET
    GEOMETRY 15 20 15 29
    COLORS cyan brown brown
  END FIELD

  # Cancel
  FIELD 14 BUTTON
    GEOMETRY 20 2 22 14
    COLORS cyan brown
    INIT
      1 1 C A N C E L
    END INIT
  END FIELD

END DESCRIPTOR

